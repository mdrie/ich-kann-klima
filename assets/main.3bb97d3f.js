var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,r=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,s=(e,s)=>{for(var l in s||(s={}))t.call(s,l)&&r(e,l,s[l]);if(a)for(var l of a(s))n.call(s,l)&&r(e,l,s[l]);return e};import{d as l,c as o,a as c,F as i,o as d,r as u,b as m,w as p,p as h,e as v,f as w,g as f,t as g,h as b,i as L,j as y,k,l as I,v as E,m as _,u as G,n as S}from"./vendor.f075950f.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,s)=>{const l=new URL(e,n);if(self[t].moduleMap[l])return a(self[t].moduleMap[l]);const o=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){s(new Error(`Failed to import: ${e}`)),r(c)},onload(){a(self[t].moduleMap[l]),r(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/assets/");var C=l({});const D=c("h1",null,"#ich-kann-klima",-1);C.render=function(e,t,a,n,r,s){const l=u("router-view");return d(),o(i,null,[D,c(l)],64)};const Y={gameLoaded(e,t){e.game=t.game}};var z=l({props:{value:{type:Number,required:!0},color:{type:String,required:!0}},computed:{emptyCircles(){return 10-this.value},filledCircles(){return this.value},style(){return e=>("filled"===e?"background":"border-color")+": "+this.color}}});const O=p();h("data-v-72f6494f");const j={class:"Indicator"};v();const A=O(((e,t,a,n,r,s)=>(d(),o("div",j,[(d(!0),o(i,null,m(e.emptyCircles,(t=>(d(),o("div",{class:"circle",style:e.style("empty")},null,4)))),256)),(d(!0),o(i,null,m(e.value,(t=>(d(),o("div",{class:"circle",style:e.style("filled")},null,4)))),256))]))));z.render=A,z.__scopeId="data-v-72f6494f";var $=l({setup(){const e=Me();return{store:e,currentYear:w((()=>{var t;return null==(t=e.state.game)?void 0:t.currentYear}))}},computed:{timespan:()=>29,years(){return this.currentYear-2020},height(){return"height: "+this.years/this.timespan*100+"%"}}});const M=p();h("data-v-ad8363c2");const P={class:"container"},B=c("div",{class:"arrow-head"},null,-1);v();const K=M(((e,t,a,n,r,s)=>(d(),o("div",P,[B,c("div",{class:"indicator",style:e.height},null,4)]))));$.render=K,$.__scopeId="data-v-ad8363c2";var R=l({components:{TimeIndicator:$,Indicator:z}});const U=p();h("data-v-7ff51cfb");const F={class:"CurrentIndicators"};v();const J=U(((e,t,a,n,r,s)=>{const l=u("Indicator"),i=u("TimeIndicator");return d(),o("div",F,[c(l,{value:1,color:"#EE8AC1"}),c(l,{value:3,color:"#A9D18E"}),c(l,{value:2,color:"#8FAADC"}),c(i)])}));R.render=J,R.__scopeId="data-v-7ff51cfb";var W=l({components:{CurrentIndicators:R}});const N={class:"game-setup"},T={class:"wrapper"};W.render=function(e,t,a,n,r,s){const l=u("CurrentIndicators");return d(),o("div",N,[c("div",T,[f(e.$slots,"default")]),c(l)])};var q=l({props:{title:String,laws:Array}});const x=p();h("data-v-5fd4a55a");const Z={key:0},V={class:"Laws"};v();const H=x(((e,t,a,n,r,s)=>(d(),o(i,null,[e.title?(d(),o("h2",Z,g(e.title),1)):b("",!0),c("div",V,[(d(!0),o(i,null,m(e.laws,((t,a)=>(d(),o("div",{key:a,class:"Law"},[f(e.$slots,"default",{id:t.id},void 0,!0),c("h3",null,g(t.name),1),c("div",null,g(t.description),1)])))),128))])],64))));q.render=H,q.__scopeId="data-v-5fd4a55a";var Q=l({components:{Laws:q},setup(){const e=Me();return{store:e,allLaws:w((()=>e.state.allLaws)),acceptedLaws:w((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},computed:{accepted(){return this.allLaws.filter((e=>{var t;return null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id))}))}}});Q.render=function(e,t,a,n,r,s){const l=u("Laws");return d(),o(l,{laws:e.accepted,title:"Beschlossen"},null,8,["laws"])};var X=l({components:{Laws:q},setup(){const e=Me();return{store:e,allLaws:w((()=>e.state.allLaws)),acceptedLaws:w((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},data:()=>({declined:[]}),computed:{proposed(){return this.allLaws.filter((e=>{var t;return!(null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id)))&&!this.declined.includes(e.id)})).slice(0,6)}},methods:{accept(e){this.store.dispatch(De(e))},decline(e){this.declined.push(e)}}});const ee=p(),te=ee(((e,t,a,n,r,s)=>{const l=u("Laws");return d(),o(l,{laws:e.proposed},{default:ee((t=>[c("button",{class:"accept",onClick:a=>e.accept(t.id)},"✓",8,["onClick"]),c("button",{class:"decline",onClick:a=>e.decline(t.id)},"✗",8,["onClick"])])),_:1},8,["laws"])}));X.render=te,X.__scopeId="data-v-1cc468eb";var ae=l({components:{GameSetup:W,LawProposals:X,AcceptedLaws:Q},setup:()=>({store:Me()}),methods:{advanceYear(){this.$store.dispatch(Ye())}}});const ne=p();h("data-v-4bfc35aa");const re=c("p",null,"Wenn Du fertig bist, wechsle zum nächsten Jahr und sieh' Dir die Auswirkungen an.",-1),se={class:"button-bar"};v();const le=ne(((e,t,a,n,r,s)=>{const l=u("LawProposals"),i=u("AcceptedLaws"),m=u("GameSetup");return d(),o(m,null,{default:ne((()=>[c(l),c(i),re,c("div",se,[c("button",{onClick:t[1]||(t[1]=(...t)=>e.advanceYear&&e.advanceYear(...t))},"Jahr abschließen")])])),_:1})}));ae.render=le,ae.__scopeId="data-v-4bfc35aa";var oe=l({components:{GameSetup:W},methods:{newGame(){this.$router.push("/games")}}});const ce=c("h2",null,"Deine erste Entscheidung steht bevor...",-1),ie=c("p",null,[y("Wähle weise, denn "),c("u",null,"alles hat Einfluss"),y(" auf deine Beliebtheit, das Klimaziel sowie den Finanzhaushalt.")],-1),de=c("p",null,[y(" Durch manche Entscheidungen entstehen neue Möglichkeiten."),c("br"),y(" Es kann aber auch sein, dass du dir durch bestimmte Entscheidungen andere Möglichkeiten nimmst. ")],-1),ue=y(" Gar nicht so einfach, Politiker zu sein, oder? "),me={class:"button-bar"};oe.render=function(e,t,a,n,r,s){const l=u("o"),i=u("GameSetup");return d(),o(i,null,{default:L((()=>[ce,ie,de,c(l,null,{default:L((()=>[ue])),_:1}),c("div",me,[c("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Leg' los")])])),_:1})};var pe=l({methods:{start(){this.$router.push("/start")}}});const he={class:"wrapper"},ve=c("h2",null,"Stell dir vor...",-1),we=c("h3",null,"... du bist Politiker.",-1),fe=c("p",null," Du wurdest gerade ins Amt gewählt. Dein Ziel? Die Wiederwahl! ",-1),ge=c("p",null," Du hast vier Jahre Zeit um... ",-1),be=c("ul",null,[c("li",null,"Beliebtheit in der Bevölkerung zu erlangen"),c("li",null,"der Klimakatastrophe entgegenzusteuern"),c("li",null,"das Soll des Bundeshaushaltes zu erreichen/nicht zu übersteigen")],-1),Le={class:"button-bar"};pe.render=function(e,t,a,n,r,s){return d(),o("div",he,[ve,we,fe,ge,be,c("div",Le,[c("button",{onClick:t[1]||(t[1]=(...t)=>e.start&&e.start(...t))},"Starte das Spiel!")])])};const ye=[{path:"/",component:pe},{path:"/start",component:oe},{path:"/games",component:ae,beforeEnter:()=>$e.dispatch(Se())},{path:"/games/:id",component:ae,beforeEnter:e=>$e.dispatch(Ce(e.params.id))}],ke=k({history:I(),routes:ye});const Ie={loadGame(e){const t=localStorage.getItem("game");if(!t)throw Error("Game not found");return JSON.parse(t)},saveGame(e){localStorage.setItem("game",JSON.stringify(e))}},Ee={co2Emmissions:805,stateDebt:1899,unemployment:2695,gdp:3332,electrictyDemandTotal:2300};function _e(e){return Ie.saveGame(e),(e=>Ae("gameLoaded",{game:e}))(e)}const Ge={startGame(){const e={id:E(),currentYear:2021,values:s({},Ee),acceptedLaws:[]};Ie.saveGame(e),ke.push("/games/"+e.id)},loadGame(e,t){e.commit(_e(Ie.loadGame(t.gameId)))},acceptLaw(e,t){const a=e.state.game,n={lawId:t.lawId,effectiveSince:a.currentYear+1};e.commit(_e(s(s({},a),{acceptedLaws:[...a.acceptedLaws,n]})))},advanceYear(e){const t=e.state.game;e.commit(_e(s(s({},t),{currentYear:t.currentYear+1})))}},Se=()=>je("startGame",{}),Ce=e=>je("loadGame",{gameId:e}),De=e=>je("acceptLaw",{lawId:e}),Ye=()=>je("advanceYear",{}),ze={allLaws:[{id:"1",name:"Kohlevertromung einstellen",description:"Die Verstromung von Kohle zur Erzeugung von Strom wird verboten."},{id:"2",name:"Energiemix regelt der Markt",description:"Subventionen in der Energiewirtschaft werden insgesamt eingestellt."},{id:"3",name:"Kernenergienutzung verlängern",description:"Eigentlich bereits abgeschaltete Kernkraftwerke wieder in Betrieb nehmen und neue bauen."},{id:"4",name:"Windkraft fördern",description:"Garantierte Einspeisevergütung für neue und erneuterte Windanlagen"}],game:void 0},Oe=Symbol(),je=(e,t)=>s({type:e},t),Ae=(e,t)=>s({type:e},t),$e=_({state:ze,mutations:Y,actions:Ge});function Me(){return G(Oe)}const Pe=S(C);Pe.use($e,Oe),Pe.use(ke),Pe.mount("#app");
