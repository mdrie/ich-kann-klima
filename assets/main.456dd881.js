var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,s=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,r=(e,r)=>{for(var i in r||(r={}))t.call(r,i)&&s(e,i,r[i]);if(a)for(var i of a(r))n.call(r,i)&&s(e,i,r[i]);return e};import{d as i,c as l,a as c,F as o,o as u,r as d,b as m,w as p,p as h,e as v,f as A,v as g,g as b,t as w,h as f,i as L,j as y,k,l as I,u as C,m as S}from"./vendor.0f597faf.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,r)=>{const i=new URL(e,n);if(self[t].moduleMap[i])return a(self[t].moduleMap[i]);const l=new Blob([`import * as m from '${i}';`,`${t}.moduleMap['${i}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){r(new Error(`Failed to import: ${e}`)),s(c)},onload(){a(self[t].moduleMap[i]),s(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/assets/");var E=i({});const x=c("h1",null,"#ich-kann-klima",-1),G=c("details",{class:"attribution"},[c("summary",null,"Attribution"),c("ul",null,[c("li",null,"CO2 symbol: Tommaso.sansone91, CC0 1.0, via Wikimedia commons"),c("li",null,"Euro coin: Verdy_p, Public domain, via Wikimedia commons"),c("li",null,"Clapping hands: pngimg.com, CC 4.0 BY-NC")])],-1);E.render=function(e,t,a,n,s,r){const i=d("router-view");return u(),l(o,null,[x,c(i),G],64)};const K={gameLoaded(e,t){e.game=t.game}};var B=i({props:{value:{type:Number,required:!0},color:{type:String,required:!0},img:{type:String}},computed:{emptyCircles(){return 10-this.value},filledCircles(){return this.value},style(){return e=>"empty"===e?"border-color: "+this.color:this.$props.img?"background-image: url("+this.$props.img+")":"background: "+this.color}}});const M=p();h("data-v-bff676d6");const D={class:"Indicator"};v();const Q=M(((e,t,a,n,s,r)=>(u(),l("div",D,[(u(!0),l(o,null,m(e.emptyCircles,(t=>(u(),l("div",{class:"circle",style:e.style("empty")},null,4)))),256)),(u(!0),l(o,null,m(e.value,(t=>(u(),l("div",{class:"circle",style:e.style("filled")},null,4)))),256))]))));B.render=Q,B.__scopeId="data-v-bff676d6";var U=i({setup(){const e=Pe();return{store:e,currentYear:A((()=>{var t;return null==(t=e.state.game)?void 0:t.currentYear}))}},computed:{timespan:()=>29,years(){return this.currentYear-2020},height(){return"height: "+this.years/this.timespan*100+"%"}}});const R=p();h("data-v-ad8363c2");const V={class:"container"},T=c("div",{class:"arrow-head"},null,-1);v();const O=R(((e,t,a,n,s,r)=>(u(),l("div",V,[T,c("div",{class:"indicator",style:e.height},null,4)]))));U.render=O,U.__scopeId="data-v-ad8363c2";const z={co2budget:6700,stateDebt:1899,popularity:50,co2emissions:805,unemployment:2695,gdp:3332,electricitySolar:51.42,electricityWind:131.85,electricityWater:18.4,electricityCoal:117.72,electricityBiomass:47.15,electricityNuclear:60.92,electricityGas:56.77};function X(e){var t;return{id:g(),currentYear:e.currentYear,acceptedLaws:e.acceptedLaws,values:(t=e.values,r(r({},t),{get electricityDemand(){return this.electricitySolar+this.electricityWind+this.electricityWater+this.electricityCoal+this.electricityBiomass+this.electricityNuclear+this.electricityGas}}))}}function J(e){return Math.max(0,Math.min(100,e))}function P(e){if(0===e.values.co2emissions)return 100;return J(50*(e.values.co2budget*z.co2emissions/z.co2budget/e.values.co2emissions))}function j(e){return J(100-50*(e.values.stateDebt/z.stateDebt))}function N(e,t){return e?Math.round(t(e)/10):0}var Y=i({components:{TimeIndicator:U,Indicator:B},setup:()=>({store:Pe(),co2:"data:image/png;base64,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",coin:"/assets/euro.4b74462e.svg",hands:"/assets/clapping-hands.2a0f82d4.png"}),computed:{game(){return this.store.state.game},co2value(){return N(this.game,P)},financeValue(){return N(this.game,j)},popularityValue(){return N(this.game,(e=>e.values.popularity))}}});const Z=p();h("data-v-2e4633a0");const W={class:"CurrentIndicators"};v();const H=Z(((e,t,a,n,s,r)=>{const i=d("Indicator"),o=d("TimeIndicator");return u(),l("div",W,[c(i,{value:e.co2value,color:"#EE8AC1",img:e.co2},null,8,["value","img"]),c(i,{value:e.financeValue,color:"#A9D18E",img:e.coin},null,8,["value","img"]),c(i,{value:e.popularityValue,color:"#8FAADC",img:e.hands},null,8,["value","img"]),c(o)])}));Y.render=H,Y.__scopeId="data-v-2e4633a0";var F=i({components:{CurrentIndicators:Y}});const q={class:"game-setup"},_={class:"wrapper"};F.render=function(e,t,a,n,s,r){const i=d("CurrentIndicators");return u(),l("div",q,[c("div",_,[b(e.$slots,"default")]),c(i)])};var $=i({setup(){const e=Pe();return{store:e,allLaws:A((()=>e.state.allLaws)),acceptedLaws:A((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},data:()=>({opened:void 0}),computed:{accepted(){return this.allLaws.filter((e=>{var t;return null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id))}))}},methods:{toggleOpen(e){this.opened=this.opened===e?void 0:e}}});const ee=p()(((e,t,a,n,s,r)=>(u(!0),l(o,null,m(e.accepted,((t,a)=>(u(),l("div",{key:a,class:["Law",{opened:a===e.opened}],onClick:t=>e.toggleOpen(a)},[c("h3",null,w(t.title),1),c("div",null,w(t.description),1)],10,["onClick"])))),128))));$.render=ee,$.__scopeId="data-v-87402bbe";var te=i({setup(){const e=Pe();return{store:e,allLaws:A((()=>e.state.allLaws)),acceptedLaws:A((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},data:()=>({declined:[]}),computed:{proposed(){return this.allLaws.filter((e=>{var t;return!(null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id)))&&!this.declined.includes(e.id)})).slice(0,6)}},methods:{accept(e){this.store.dispatch(Re(e))},decline(e){this.declined.push(e)}}});const ae=p();h("data-v-54f052e4");const ne={class:"ProposedLaws"},se={class:"button-bar"};v();const re=ae(((e,t,a,n,s,r)=>(u(),l("div",ne,[(u(!0),l(o,null,m(e.proposed,((t,a)=>(u(),l("div",{key:a,class:"Law"},[c("h3",null,w(t.title),1),c("div",null,w(t.description),1),c("div",se,[c("button",{class:"accept",onClick:a=>e.accept(t.id)},"✓",8,["onClick"]),c("button",{class:"decline",onClick:a=>e.decline(t.id)},"✗",8,["onClick"])])])))),128))]))));te.render=re,te.__scopeId="data-v-54f052e4";var ie=i({components:{GameSetup:F,LawProposals:te,AcceptedLaws:$},setup:()=>({store:Pe()}),methods:{advanceYear(){this.$store.dispatch(Ve())}}});const le=p();h("data-v-30db5640");const ce=c("h2",null,"Beschlossene Gesetze",-1),oe=c("p",null,"Wenn Du fertig bist, wechsle zum nächsten Jahr und sieh' Dir die Auswirkungen an.",-1),ue={class:"button-bar"};v();const de=le(((e,t,a,n,s,r)=>{const i=d("LawProposals"),o=d("AcceptedLaws"),m=d("GameSetup");return u(),l(m,null,{default:le((()=>[c(i),ce,c(o),oe,c("div",ue,[c("button",{onClick:t[1]||(t[1]=(...t)=>e.advanceYear&&e.advanceYear(...t))},"Jahr abschließen")])])),_:1})}));ie.render=de,ie.__scopeId="data-v-30db5640";var me=i({components:{GameSetup:F},methods:{newGame(){this.$router.push("/games")}}});const pe=c("h2",null,"Deine erste Entscheidung steht bevor...",-1),he=c("p",null,[L("Wähle weise, denn "),c("u",null,"alles hat Einfluss"),L(" auf deine Beliebtheit, das Klimaziel sowie den Finanzhaushalt.")],-1),ve=c("p",null,[L(" Durch manche Entscheidungen entstehen neue Möglichkeiten."),c("br"),L(" Es kann aber auch sein, dass du dir durch bestimmte Entscheidungen andere Möglichkeiten nimmst. ")],-1),Ae=L(" Gar nicht so einfach, Politiker zu sein, oder? "),ge={class:"button-bar"};me.render=function(e,t,a,n,s,r){const i=d("o"),o=d("GameSetup");return u(),l(o,null,{default:f((()=>[pe,he,ve,c(i,null,{default:f((()=>[Ae])),_:1}),c("div",ge,[c("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Leg' los")])])),_:1})};var be=i({methods:{start(){this.$router.push("/start")}}});const we={class:"wrapper"},fe=c("h2",null,"Stell dir vor...",-1),Le=c("h3",null,"... du bist Politiker.",-1),ye=c("p",null," Du wurdest gerade ins Amt gewählt. Dein Ziel? Die Wiederwahl! ",-1),ke=c("p",null," Du hast vier Jahre Zeit um... ",-1),Ie=c("ul",null,[c("li",null,"Beliebtheit in der Bevölkerung zu erlangen"),c("li",null,"der Klimakatastrophe entgegenzusteuern"),c("li",null,"das Soll des Bundeshaushaltes zu erreichen/nicht zu übersteigen")],-1),Ce={class:"button-bar"};be.render=function(e,t,a,n,s,r){return u(),l("div",we,[fe,Le,ye,ke,Ie,c("div",Ce,[c("button",{onClick:t[1]||(t[1]=(...t)=>e.start&&e.start(...t))},"Starte das Spiel!")])])};const Se=[{path:"/",component:be},{path:"/start",component:me},{path:"/games",component:ie,beforeEnter:()=>Je.dispatch(Qe())},{path:"/games/:id",component:ie,beforeEnter:e=>Je.dispatch(Ue(e.params.id))}],Ee=y({history:k(),routes:Se});let xe=0;function Ge(e){return r(r({},e),{id:""+ ++xe})}const Ke=[Ge({title:"Kohleverstromung einstellen",description:"Die Verstromung von Kohle zur Erzeugung von Strom wird verboten.",effects(e,t,a){const n=a-t;return{co2emmissions:-200,stateDebt:-(n<18?0:1e3),unemployment:Math.max(50*(10-n)/10,0)}}}),Ge({title:"Energiemix regelt der Markt",description:"Subventionen in der Energiewirtschaft werden insgesamt eingestellt.",effects:(e,t,a)=>({co2emmissions:-100,stateDebt:-1e3})}),Ge({title:"Kernenergienutzung verlängern",description:"Eigentlich bereits abgeschaltete Kernkraftwerke wieder in Betrieb nehmen und neue bauen.",effects:(e,t,a)=>({co2emmissions:-100,stateDebt:1e3})}),Ge({title:"Windkraft fördern",description:"Garantierte Einspeisevergütung für neue und erneuterte Windanlagen",effects:(e,t,a)=>({co2emmissions:-100,stateDebt:-1e3})})],Be={loadGame(e){const t=localStorage.getItem("game");if(!t)throw Error("Game not found");const a=X(JSON.parse(t));return a.id=e,a},saveGame(e){localStorage.setItem("game",JSON.stringify(e))}};function Me(e){return Be.saveGame(e),(e=>Xe("gameLoaded",{game:e}))(e)}const De={startGame(){const e=X({currentYear:2021,values:z,acceptedLaws:[]});Be.saveGame(e),Ee.push("/games/"+e.id)},loadGame(e,t){e.commit(Me(Be.loadGame(t.gameId)))},acceptLaw(e,t){const a=e.state.game,n={lawId:t.lawId,effectiveSince:a.currentYear+1};e.commit(Me(r(r({},a),{acceptedLaws:[...a.acceptedLaws,n]})))},advanceYear(e){const t=e.state.game,a=t.acceptedLaws.map((function(e){const t=Ke.find((t=>t.id===e.lawId));if(t)return r(r({},t),{effectiveSince:e.effectiveSince});throw Error(`Law #${e.lawId} not found`)})),n=function(e,t,a){const n=r({},e);return t.forEach((t=>{const s=t.effects(e,t.effectiveSince,a);Object.keys(s).forEach((e=>{n[e]+=s[e]||0}))})),n.co2budget-=n.co2emissions,n}(t.values,a,t.currentYear+1);e.commit(Me(r(r({},t),{values:n,currentYear:t.currentYear+1})))}},Qe=()=>ze("startGame",{}),Ue=e=>ze("loadGame",{gameId:e}),Re=e=>ze("acceptLaw",{lawId:e}),Ve=()=>ze("advanceYear",{}),Te={allLaws:Ke,game:void 0},Oe=Symbol(),ze=(e,t)=>r({type:e},t),Xe=(e,t)=>r({type:e},t),Je=I({state:Te,mutations:K,actions:De});function Pe(){return C(Oe)}const je=S(E);je.use(Je,Oe),je.use(Ee),je.mount("#app");
