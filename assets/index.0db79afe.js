var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,s=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,r=(e,r)=>{for(var i in r||(r={}))t.call(r,i)&&s(e,i,r[i]);if(a)for(var i of a(r))n.call(r,i)&&s(e,i,r[i]);return e};import{d as i,c as l,a as o,F as c,o as d,r as u,b as m,w as p,p as h,e as v,f as w,t as g,g as f,h as b,i as L,j as k,k as y,v as G,l as I,u as E,m as S}from"./vendor.a368c50b.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,r)=>{const i=new URL(e,n);if(self[t].moduleMap[i])return a(self[t].moduleMap[i]);const l=new Blob([`import * as m from '${i}';`,`${t}.moduleMap['${i}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){r(new Error(`Failed to import: ${e}`)),s(o)},onload(){a(self[t].moduleMap[i]),s(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");var _=i({});const z=o("h1",null,"#ich-kann-klima",-1);_.render=function(e,t,a,n,s,r){const i=u("router-view");return d(),l(c,null,[z,o(i)],64)};const O={gameLoaded(e,t){e.game=t.game}};var Y=i({setup(){const e=ze();return{store:e,currentYear:m((()=>{var t;return null==(t=e.state.game)?void 0:t.currentYear}))}},computed:{timespan:()=>29,years(){return this.currentYear-2020},height(){return"height: "+this.years/this.timespan*100+"%"}}});const C=p();h("data-v-0418da2f");const D={class:"container"},j=o("div",{class:"arrow-head"},null,-1);v();const M=C(((e,t,a,n,s,r)=>(d(),l("div",D,[j,o("div",{class:"indicator",style:e.height},null,4)]))));Y.render=M,Y.__scopeId="data-v-0418da2f";var $=i({components:{TimeIndicator:Y},data:()=>({indicators:[{id:"1",name:"CO2 Emmissionen",value:805,unit:"Mio t"},{id:"2",name:"Bruttoinlandsprodukt",value:2300,unit:"Mrd €"},{id:"3",name:"Arbeitslosenzahl",value:2700,unit:"Tsd."}]})});const B=p()(((e,t,a,n,s,r)=>{const i=u("TimeIndicator");return d(),l(c,null,[o("ul",null,[(d(!0),l(c,null,w(e.indicators,((e,t)=>(d(),l("li",{key:t},[o("div",null,g(e.name),1),o("div",null,g(e.value)+" "+g(e.unit),1)])))),128))]),o(i)],64)}));$.render=B,$.__scopeId="data-v-29f63cff";var P=i({components:{CurrentIndicators:$}});const A={class:"game-setup"},K={class:"wrapper"};P.render=function(e,t,a,n,s,r){const i=u("CurrentIndicators");return d(),l("div",A,[o("div",K,[f(e.$slots,"default")]),o(i)])};var R=i({props:{title:String,laws:Array}});const U=p();h("data-v-1f2ddee3");const J={class:"Laws"};v();const W=U(((e,t,a,n,s,r)=>(d(),l("div",J,[o("h2",null,g(e.title),1),(d(!0),l(c,null,w(e.laws,((t,a)=>(d(),l("div",{key:a,class:"Law"},[f(e.$slots,"default",{id:t.id},void 0,!0),o("h2",null,g(t.name),1),o("div",null,g(t.description),1)])))),128))]))));R.render=W,R.__scopeId="data-v-1f2ddee3";var F=i({components:{Laws:R},setup(){const e=ze();return{store:e,allLaws:m((()=>e.state.allLaws)),acceptedLaws:m((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},computed:{accepted(){return this.allLaws.filter((e=>{var t;return null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id))}))}}});F.render=function(e,t,a,n,s,r){const i=u("Laws");return d(),l(i,{laws:e.accepted,title:"Beschlossen"},null,8,["laws"])};var T=i({components:{Laws:R},setup(){const e=ze();return{store:e,allLaws:m((()=>e.state.allLaws)),acceptedLaws:m((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},data:()=>({declined:[]}),computed:{proposed(){return this.allLaws.filter((e=>{var t;return!(null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id)))&&!this.declined.includes(e.id)}))}},methods:{accept(e){this.store.dispatch(ke(e))},decline(e){this.declined.push(e)}}});const x=p(),N=x(((e,t,a,n,s,r)=>{const i=u("Laws");return d(),l(i,{laws:e.proposed,title:"Gesetzesvorschläge"},{default:x((t=>[o("button",{class:"accept",onClick:a=>e.accept(t.id)},"✓",8,["onClick"]),o("button",{class:"decline",onClick:a=>e.decline(t.id)},"✗",8,["onClick"])])),_:1},8,["laws"])}));T.render=N,T.__scopeId="data-v-4af47934";var Z=i({components:{GameSetup:P,LawProposals:T,AcceptedLaws:F},setup:()=>({store:ze()}),methods:{advanceYear(){this.$store.dispatch(ye())}}});const V=p();h("data-v-4bfc35aa");const q=o("p",null,"Wenn Du fertig bist, wechsle zum nächsten Jahr und sieh' Dir die Auswirkungen an.",-1),H={class:"button-bar"};v();const Q=V(((e,t,a,n,s,r)=>{const i=u("LawProposals"),c=u("AcceptedLaws"),m=u("GameSetup");return d(),l(m,null,{default:V((()=>[o(i),o(c),q,o("div",H,[o("button",{onClick:t[1]||(t[1]=(...t)=>e.advanceYear&&e.advanceYear(...t))},"Jahr abschließen")])])),_:1})}));Z.render=Q,Z.__scopeId="data-v-4bfc35aa";var X=i({components:{GameSetup:P},methods:{newGame(){this.$router.push("/games")}}});const ee=o("h2",null,"Deine erste Entscheidung steht bevor...",-1),te=o("p",null,[L("Wähle weise, denn "),o("u",null,"alles hat Einfluss"),L(" auf deine Beliebtheit, das Klimaziel sowie den Finanzhaushalt.")],-1),ae=o("p",null,[L(" Durch manche Entscheidungen entstehen neue Möglichkeiten."),o("br"),L(" Es kann aber auch sein, dass du dir durch bestimmte Entscheidungen andere Möglichkeiten nimmst. ")],-1),ne=L(" Gar nicht so einfach, Politiker zu sein, oder? "),se={class:"button-bar"};X.render=function(e,t,a,n,s,r){const i=u("o"),c=u("GameSetup");return d(),l(c,null,{default:b((()=>[ee,te,ae,o(i,null,{default:b((()=>[ne])),_:1}),o("div",se,[o("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Leg' los")])])),_:1})};var re=i({methods:{start(){this.$router.push("/start")}}});const ie={class:"wrapper"},le=o("h2",null,"Stell dir vor...",-1),oe=o("h3",null,"... du bist Politiker.",-1),ce=o("p",null," Du wurdest gerade ins Amt gewählt. Dein Ziel? Die Wiederwahl! ",-1),de=o("p",null," Du hast vier Jahre Zeit um... ",-1),ue=o("ul",null,[o("li",null,"Beliebtheit in der Bevölkerung zu erlangen"),o("li",null,"der Klimakatastrophe entgegenzusteuern"),o("li",null,"das Soll des Bundeshaushaltes zu erreichen/nicht zu übersteigen")],-1),me={class:"button-bar"};re.render=function(e,t,a,n,s,r){return d(),l("div",ie,[le,oe,ce,de,ue,o("div",me,[o("button",{onClick:t[1]||(t[1]=(...t)=>e.start&&e.start(...t))},"Starte das Spiel!")])])};const pe=[{path:"/",component:re},{path:"/start",component:X},{path:"/games",component:Z,beforeEnter:()=>_e.dispatch(be())},{path:"/games/:id",component:Z,beforeEnter:e=>_e.dispatch(Le(e.params.id))}],he=k({history:y(),routes:pe});const ve={loadGame(e){const t=localStorage.getItem("game");if(!t)throw Error("Game not found");return JSON.parse(t)},saveGame(e){localStorage.setItem("game",JSON.stringify(e))}},we={co2Emmissions:805,stateDebt:1899,unemployment:2695,gdp:3332,electrictyDemandTotal:2300};function ge(e){return ve.saveGame(e),(e=>Se("gameLoaded",{game:e}))(e)}const fe={startGame(){const e={id:G(),currentYear:2021,values:r({},we),acceptedLaws:[]};ve.saveGame(e),he.push("/games/"+e.id)},loadGame(e,t){e.commit(ge(ve.loadGame(t.gameId)))},acceptLaw(e,t){const a=e.state.game,n={lawId:t.lawId,effectiveSince:a.currentYear+1};e.commit(ge(r(r({},a),{acceptedLaws:[...a.acceptedLaws,n]})))},advanceYear(e){const t=e.state.game;e.commit(ge(r(r({},t),{currentYear:t.currentYear+1})))}},be=()=>Ee("startGame",{}),Le=e=>Ee("loadGame",{gameId:e}),ke=e=>Ee("acceptLaw",{lawId:e}),ye=()=>Ee("advanceYear",{}),Ge={allLaws:[{id:"1",name:"Kohlevertromung einstellen",description:"Die Verstromung von Kohle zur Erzeugung von Strom wird verboten."},{id:"2",name:"Energiemix regelt der Markt",description:"Subventionen in der Energiewirtschaft werden insgesamt eingestellt."},{id:"3",name:"Kernenergienutzung verlängern",description:"Eigentlich bereits abgeschaltete Kernkraftwerke wieder in Betrieb nehmen und neue bauen."},{id:"4",name:"Windkraft fördern",description:"Garantierte Einspeisevergütung für neue und erneuterte Windanlagen"}],game:void 0},Ie=Symbol(),Ee=(e,t)=>r({type:e},t),Se=(e,t)=>r({type:e},t),_e=I({state:Ge,mutations:O,actions:fe});function ze(){return E(Ie)}const Oe=S(_);Oe.use(_e,Ie),Oe.use(he),Oe.mount("#app");
